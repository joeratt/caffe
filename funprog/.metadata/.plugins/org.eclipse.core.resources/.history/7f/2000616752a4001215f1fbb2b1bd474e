package week3

import week3._

object Polymorphism {
  def singleton[T](elem: T) = new Cons[T](elem, new Nil[T])
                                                  //> singleton: [T](elem: T)week3.Cons[T]

  singleton[Int](1)                               //> res0: week3.Cons[Int] = week3.Cons@67591ba4
  singleton[Boolean](true)                        //> res1: week3.Cons[Boolean] = week3.Cons@b25e0fe

  singleton(1)                                    //> res2: week3.Cons[Int] = week3.Cons@63d64969
  singleton(true)                                 //> res3: week3.Cons[Boolean] = week3.Cons@96dbfb4

  def nth[T](n: Int, list: List[T]): T = {
    def iter(x: Int, list: List[T]): T = {
      if (x == n - 1) list.head
      else if (list.isEmpty)
        throw new IndexOutOfBoundsException
      else iter(x + 1, list.tail)
    }
    iter(0,list)
  }                                               //> nth: [T](n: Int, list: week3.List[T])T
}